I am adding some usefule AWS CLI commands.

### Delete a bucket with version/log

Clear the bucket, then rm the bucket

```{sh}
aws s3api delete-objects --bucket <<bucket-to-delete>> --delete "$(aws s3api list-object-versions --bucket <<bucket-to-delete>> --query='{Objects: Versions[].{Key:Key,VersionId:VersionId}}')"
aws s3api delete-objects --bucket <<bucket-to-delete>> --delete "$(aws s3api list-object-versions --bucket <<bucket-to-delete>> --query='{Objects: DeleteMarkers[].{Key:Key,VersionId:VersionId}}')"
aws s3 rm <<bucket-to-delete>>
```

### Copy file to KMS SSE S3 bucket
```
aws s3 cp <file1> <to bucket/file>  --sse aws:kms --sse-kms-key-id <key id ARN>
```

Look for <key id > in AWS KMS.
